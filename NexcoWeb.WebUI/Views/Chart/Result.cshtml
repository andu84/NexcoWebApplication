@model IEnumerable<NexcoWeb.Domain.Entities.Budget>
@{
    ViewBag.Title = "Char";
    Layout = "~/Views/Shared/ChartShare.cshtml";
}

    <script>

        var arrDate = [];
        var arrIncomes = [];
        var arrExpenses = [];
    @foreach (var item in Model)
                {
                    string dateIncomes= string.Join("",@item.Income.DisplayDateIncomes);
                @:arrDate.push("@dateIncomes"); 
                    string totalIncome = string.Join("",@item.Income.TotalIncome);
                @:arrIncomes.push(@totalIncome);
                    string totalExpenses = string.Join("", @item.Expenditure.TotalExpense);
                @:arrExpenses.push(@totalExpenses); 
            }


    Highcharts.chart('container', {
        chart: {
            type: 'line'
        },
        title: {
            text: 'Monthly Average Incomes'
        },
        subtitle: {
            text: 'Nexco Financial management App'
        },
        xAxis: {
            categories: arrDate
        },
        yAxis: {
            title: {
                text: 'Pounds (£)'
            }
        },
        plotOptions: {
            line: {
                dataLabels: {
                    enabled: true
                },
                enableMouseTracking: false
            }
        },
        series: [
            {
                name: 'Incomes',
                data: arrIncomes

            },

        {
            name: 'Expenses',
            data: arrExpenses
        }
        ]
    });


    </script>

